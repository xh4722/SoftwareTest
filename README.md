# 软件测试综述
## 一、背景介绍
### 软件缺陷
1. 软件**未实现**产品说明书要求的功能；
2. 软件出现了产品说明书**未提到**的功能；
3. 软件出现了产品说明书指明不应该出现的**错误**；
4. 软件未实现产品说明书虽未明确提及但**应该实现**的目标；（需求 bug：可以在审查产品说明书的时候指出）
5. 软件难以理解、不易使用、运行缓慢或从测试员角度看最终用户会认为不好；（**易用性**测试）

### 为什么会出现软件缺陷
1. 导致软件缺陷最大的原因是**产品说明书**；（古人云：说不出来就做不到）
2. 软件缺陷的第二大来源是**设计**，这是程序员规划软件的过程；
3. 程序员**编码错误**；
4. 误解；

### 软件缺陷的修复费用
从产品说明书、设计、编码、测试到发布，缺陷的修复费用呈指数级增长。所以，软件缺陷发现的越早越好。

### 软件测试员的目标
软件测试员的目标是尽可能**早**地**找出软件缺陷**，并确保其得以**修复**。

注：“修复”软件缺陷并非一定要改正软件，可以是在用户手册增加一段注释或为用户提供特殊地培训。

### 软件测试很有趣
软件测试员地一个基本素质是打破砂锅问到底。他们喜欢找出那些难以捉摸地系统崩溃。他们乐于处理最复杂地问题。经常看到他们高高兴兴地来回奔忙，相互间击掌庆贺，拿到系统时手舞足蹈地样子。这就是平凡生活中的乐趣。

## 二、软件开发过程

### 软件产品的组成部分
#### 产品投入
1. **客户需求**：编写软件的目的是满足客户的需求，所以在开发软件之前需要进行调研。这个阶段会产生用户调查问卷、竞品分析报告、软件以前版本信息等材料；
2. **产品说明书**：产品说明书综合需求调研结果，真正地定义产品是什么，有哪些功能，外观如何等；
3. **进度表**：项目开发过程会产生进度表，用于记录哪些工作已经完成，还有多少工作要做，何时全部完成等；
4. **软件设计文档**：软件设计文档用于规划、组织即将编写地代码；
 结构文档：描述软件整体设计地文档，包括软件主要部分以及相互之间地交互方式；
 数据流图：表示数据在程序中的流转图
 状态转换图：把软件分解为基本状态或条件，表示不同状态间转换的方式；
 流程图：用图形描述程序逻辑的传统方式；
 代码注释
5. **测试文档**：
 测试计划（test plan）：描述用于验证软件是否符合产品说明书和客户需求的整体方案。包括质量目标、资源需求、进度表、任务分配、方法等；
 测试用例（test case）：列举测试的项目，描述验证软件的详细步骤；
 缺陷报告（bug reports）：描述执行测试用例找出的问题；
 测试工具和自动化测试（test tools and automation）：如果测试小组使用自动化测试工具测试软件，需要有文档记录；
 度量、统计和总结（metrics, statistics, summaries）：测试过程的汇总。采用图形、表格和报告等形式；
#### 产品可交付部分
帮助文件、用户手册、样本和示例、标签和不干胶、产品支持信息、图标和标志、错误信息、广告和宣传资料、安装、说明文件...

注：由于所有这些部分客户都要查看或使用，所以也需要测试。

### 软件项目成员
1. **项目经理**：驱动整个项目。负责编写产品说明书、管理进度、进行重大决策；
2. **体系架构师**：技术专家，负责设计整个系统的体系架构或软件；
3. **程序员**：设计、编写软件并修复软件中的缺陷；
4. **测试员或质量保证（QA）**：负责找出并报告软件产品中的问题；
5. **文案专员**：负责编写软件产品附带的文件和联机文档；
6. **实施人员**：负责将产品和资料交付给用户；

### 软件开发生命周期模式
软件产品从最初构思到公开发行的过程称为软件开发生命周期模式。
1. **大爆炸模式**：没有计划和进度安排，开发一步算一步。在这个模式下，测试只能在软件开发完成的情况下介入。尽量避免在此模式下测试。
2. **边写边改模式**：这种模式下，小组最初只有初略的想法，接着进行一些简单的设计，然后开始漫长的来回编写、测试和修改缺陷的过程，等到觉得差不多了，就发布产品。在这个模式下，测试员将陷入无休止的循环往复。
3. **瀑布模式**：瀑布模式设立了一系列步骤（构思、分析、设计、开发、测试、最终产品），每一步骤结束时小组组织审查并决定是否进入下一步。它有如下三个特点：
 - 瀑布模式非常强调产品定义；
 - 瀑布模式各步骤是独立的，没有交叉；
 - 瀑布模式无法回溯；

这个模式下，测试是在最后进行的，所以一些根本问题可能出现在早期，但是直到准备产品发布时才能发现。

4. **螺旋模式**：螺旋模式的总体思想时一开始不必定义所有细节。从小开始，定义重要功能，努力实现这些功能，接受客户反馈，然后进入下一个阶段。重复上述过程，直至得到最终产品。在这个模式下，软件测试员可以参与到产品的整个生命周期中，更好地把握产品质量。
5. **敏捷开发模式**：敏捷开发以用户的需求进化为核心，采用迭代、循序渐进的方法进行软件开发。在敏捷开发中，软件项目在构建初期被切分成多个子项目，各个子项目的成果都经过测试，具备可视、可集成和可运行使用的特征。在这个模式下，测试员会进行模块化测试和最终地集成测试。

## 三、软件测试的实质
优秀的软件测试员应该是完美主义者，但是现实情况是，软件永远不会完美。所以测试员在很多时候必须学会如何取舍和让步。

### 测试的原则
1. **完全测试程序是不可能的**
 - 输入量太大；
 - 输出结果太多；
 - 执行路径太多；
 - 软件说明书的主观性本身就是缺陷；
 
2. **软件测试具有风险性**：正因为完全测试软件是不可能的，软件测试员不能做完全测试，不完全测试就会漏掉软件缺陷，这本身就是一种风险。所以软件测试员要学会的一个关键思想是，**如何把数量巨大的可能测试减少到可以控制的范围，以及如何针对风险做出明智的抉择，哪些测试重要，哪些测试不重要。**

3. **测试无法现实潜伏的软件缺陷**：软件测试可以报告缺陷存在，却不能报告软件缺陷不存在。
4. **找到的软件缺陷越多，就说明软件缺陷越多**：缺陷往往成群出现。
5. **杀虫剂怪事**：软件测试越多，其对测试的免疫力越强。为了克服这个问题，软件测试员需要编写不同的、新的测试程序，对程序的不同部分测试以找出更多软件缺陷。
6. **并非所有软件缺陷都要修复**：
 - 没有足够的时间
 - 不算真正的软件缺陷：理解错误、测试错误或说明书变更；
 - 修复的风险太大：修复一个问题可能引入更多的问题；
 - 不值得修复
 
 7. **软件说明书没有最终版本**：不是我不明白，这世界变化快；
 8. **软件测试是讲究条理的技术专业**：好的软件应该有井然有序的开发模式，并把软件测试员当作必不可少的核心小组成员。现在软件测试需要训练和规范，而且有发展空间；

### 软件测试术语和定义
#### 精确（precision）和准确（accuracy）
- **精确**：用于定义多个数值的偏差，偏差越小越精确；
- **准确**：用于定义一个数值与数据真值是否接近；
比如计算器的准确表示 1 + 1 的结果是 2，如果得出 3，就是不准确的；计算器的精确表示多次计算的值可以有 0.0000000001 的偏差，则认为计算器是精确的。
#### 确认（verification）和验证（validation）
- **确认**：保证软件符合产品说明书的过程；
- **验证**：保证软件满足用户要求的过程；
#### 质量（quality）和可靠性（reliability）
- **质量**：质量表示软件的优越程度，是对软件全方面的考量；（功能多少、性能强弱、售后服务...）
- **可靠性**：可靠性只是质量的一方面；
#### 测试（testing）和质量保证（quality assurance）
- **测试**：尽可能早地找出软件缺陷，并确保缺陷得以修复；
- **软件质量保证人员**：防止软件缺陷地发生；

# 测试基础
这一部分具体介绍软件测试相关技术：黑盒测试、白盒测试、静态测试、动态测试、文档测试等。
- **黑盒测试（功能性测试、行为测试）**：软件测试员只需要知道软件要做什么，而不需要知道软件是怎么做的；（现阶段大部分的测试都属于黑盒测试）
- **白盒测试（结构测试、逻辑驱动测试）**："白盒"法全面了解程序内部逻辑结构、对所有逻辑路径进行测试；
- **静态测试**：不运行软件进行测试；（检查和审核）
- **动态测试**：使用和运行软件；
## 四、检查产品说明书
根据上述不同测试类型的定义可以知道，检查产品说明书属于静态黑盒测试。**静态**是指检查文档过程不需要运行软件；**黑盒**是指产品说明书是用户调研以后的产出，软件测试员不必了解用户调研是怎样进行的。
无论产品说明书的格式如何，都可以利用静态黑盒技术测试。产品说明书是书面文档或图形文档，或者两者兼而有之。通过询问软件设计者和编制者甚至可以测试没有写出来的产品说明书。
### 产品说明书高级审查
#### 审查产品说明书
测试产品说明书的第一步不是马上找缺陷，而是先理解产品为什么要这么设计和产品是怎么设计的，这有助于找到根本性的问题、疏忽或遗漏之处。
#### 假设自己是客户
软件测试员应该了解客户的需求是什么（研究用户群体；与销售交谈）。**质量**的定义就是“满足客户要求”，软件测试员必须了解并测试软件是否符合那些需求。
#### 研究现有的标准和规范
标准和规范的差别在于程度不同。标准应该严格遵守；规范是可选的，但应该严格遵守。
例子：
- **公司惯用语和约定**：如果软件是为某公司定制的，就应该采用该公司职员常用的术语和约定。
- **行业要求**：医药、工业和金融行业的应用软件有其必须严格遵守的标准。
- **政府标准**：政府——特别是军队系统有严格的标准。

软件测试员要检查采用的标准是否正确、有无遗漏。
#### 审查测试类似软件
了解软件最终结果的最佳方法是研究类似软件。在审查竞品时要注意的问题包括：
- **规模**：软件的功能是强大还是单一？
- **复杂性**：软件简单还是复杂？
- **测试性**：是否有足够的资源、时间和经验测试软件？
- **质量和可靠性**：软件是否完全满足质量要求？可靠性高还是低？
- **安全性**：竞争对手软件的安全性和自身比较起来如何？

### 产品说明书低层次测试
#### 产品说明书属性检查清单
优秀产品说明书应具备的属性：
- **完整**：是否有遗漏和丢失？
- **准确**：解决方案正确吗？目标定义明确吗？
- **精确、不含糊、清晰**：描述是否清楚？是否存在二义性？
- **一致**：产品功能描述是否自相矛盾？功能之间是否存在冲突？
- **贴切**：描述功能的陈述是否必要？有无冗余信息？
- **合理**：在规定的预算和进度下，以现有的人力、工具和资源能否实现？
- **代码无关**：产品说明书应该坚持定义产品，而不是定义其软件设计、架构和代码。
- **可测试性**：功能能否测试？给测试员提供的建立验证操作的信息是否足够？
#### 产品说明书术语检查清单
产品说明书可能会阐明或掩饰，也可能含糊其辞——无论哪一种情况，都可视其为软件缺陷：
- **总是、每一种、所有、没有、从不**：如果看到此类绝对或肯定的描述，需要确认是这样的。软件测试员要考虑违反这些情况的用例。
- **当然、因此、明显、显然、必然**：这些话意图说服你接受假定情况，不要中了圈套。
- **某些、有时、常常、通常、惯常、经常、大多、几乎**：这些话太过模糊。“有时”发生作用的功能无法测试。
- **等等、诸如此类、以此类推、例如**：以这样的词结束的功能清单无法测试。功能清单要绝对或解释明确。
- **良好、廉价、迅速、高效、小、稳定**：这些是无法量化的术语，他们无法测试。
- **处理、进行、拒绝、跳过、排除**：这些用语可能隐藏大量需要说明的功能。
- **如果...那么...（没有否则）**：“如果”没有发生会怎么样？

## 五、带上眼罩测试软件
本章开始讲述大多数人相信的软件测试：
- **动态黑盒测试**是什么
- 通过**等价类划分**减少测试用例数量
- 如何判别**故障边界条件**
- 如何测试**软件状态**和**状态转换**
- 如何使用**重复**、**压迫**和**重负**的方法找出缺陷
### 动态黑盒测试（行为测试）
不深入代码细节测试软件的方法称为**动态黑盒测试**。
- **动态**：程序在运行；
- **黑盒**：测试时不知道程序如何工作——带上了眼罩；
